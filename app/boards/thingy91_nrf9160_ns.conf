#
# Copyright (c) 2025 Nordic Semiconductor ASA
#
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
#

# Environmental module

CONFIG_SENSOR=n
CONFIG_BME680=n
CONFIG_APP_ENVIRONMENTAL=n
# Reduce logging to save flash
CONFIG_APP_ENVIRONMENTAL_LOG_LEVEL_OFF=y

# Full modem fota not supported, lacks external flash
CONFIG_NRF_CLOUD_FOTA_FULL_MODEM_UPDATE=n
# Enable shell for Memfault shell commands
CONFIG_SHELL=y

# Flash space optimizations for Thingy:91 (372 KB flash)
# Disable debug logging (saves significant flash)
CONFIG_TFM_LOG_LEVEL_SILENCE=y
# CONFIG_TFM_SPM_LOG_LEVEL_OFF=y
CONFIG_APP_FOTA_LOG_LEVEL_OFF=y
CONFIG_APP_LOCATION_LOG_LEVEL_OFF=y
CONFIG_APP_CLOUD_LOG_LEVEL_OFF=y
CONFIG_APP_NETWORK_LOG_LEVEL_OFF=y
CONFIG_APP_LOG_LEVEL_OFF=y
CONFIG_NRF_PROVISIONING_LOG_LEVEL_OFF=y
CONFIG_NRF_CLOUD_FOTA_POLL_LOG_LEVEL_OFF=y

# Disable thread names (saves flash for string storage)
CONFIG_THREAD_NAME=n

# Reduce task watchdog channels (8 -> 4 saves flash)
# CONFIG_TASK_WDT_CHANNELS=4

# Disable PM device shell (optional feature)
CONFIG_PM_DEVICE_SHELL=n

# Reduce shell buffer sizes (if shell is still needed)
CONFIG_SHELL_CMD_BUFF_SIZE=1024
CONFIG_SHELL_BACKEND_SERIAL_RX_RING_BUFFER_SIZE=1024

# Reduce log buffer size
CONFIG_LOG_BUFFER_SIZE=2048

# Disable AT shell if not needed (saves significant flash)
CONFIG_AT_SHELL=n

# Reduce provisioning buffer sizes if possible
CONFIG_NRF_PROVISIONING_RX_BUF_SZ=2048
CONFIG_NRF_PROVISIONING_TX_BUF_SZ=2048
CONFIG_NRF_PROVISIONING_CODEC_AT_CMD_LEN=1024
CONFIG_NRF_PROVISIONING_CODEC_RX_SZ_START=1024
